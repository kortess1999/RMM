extends layout
block content
    script(src="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css")
    script(src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js")
    script
        | $(document).ready(function() {
        |     $('#data_table').DataTable( {
        |       "order":[[1,'asc'],[0,'asc']],
        |       language:{
        |   "decimal":        "",
        |   "emptyTable":     "Нет данных в таблице",
        |   "info":           "Предоставляет с _START_ по _END_ из _TOTAL_ элементов",
        |   "infoEmpty":      "Нет данных",
        |   "infoFiltered":   "(Отфильтровано из _MAX_ всего элементов)",
        |   "infoPostFix":    "",
        |   "thousands":      ",",
        |   "lengthMenu":     "Показывать _MENU_ элементов",
        |   "loadingRecords": "Загрузка...",
        |   "processing":     "Обработка...",
        |   "search":         "Поиск:",
        |   "zeroRecords":    "Нет совпадений",
        |   "paginate": {
        |      "first":      " Первая ",
        |      "last":       " Последняя ",
        |      "next":       " Следующая ",
        |      "previous":   " Предыдущая "
        |   },
        |   "aria": {
        |       "sortAscending":  ": нажмите для сортировки колонки по возрастанию",
        |       "sortDescending": ": нажмите для сортировки колонки по убыванию"
        |   }}
        |   } )
        | } );
    div.container
        div.row
            div(class="d-flex flex-column p-3 text-white bg-dark" style="width: 280px;")
                div(class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none")
                    svg(class="bi me-2" width="40" height="32")
                        svg(xmlns="http://www.w3.org/2000/svg" width="40" height="32" fill="currentColor" class="bi bi-diagram-3" viewBox="0 0 16 16")
                            path(fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z")
                    svg(class="bi me-2" width="16" height="16")
                    span(class="fs-4") Навигационная панель
                hr
                ul(class="nav nav-pills flex-column mb-auto")
                    li(class="nav-item")
                        a(href="" class="nav-link active")
                            svg(class="bi me-2" width="16" height="16")
                                svg(xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16")
                                    path(fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694L1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z")
                                    path(d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z")
                            svg(class="bi me-2" width="16" height="16")
                            |Состояние модулей
                    li
                        a(href="/reports" class="nav-link text-white")
                            svg(class="bi me-2" width="16" height="16")
                                svg(xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16")
                                    path(d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z")
                            svg(class="bi me-2" width="16" height="16")
                            |Отчёты
                hr
                a(class="btn btn-light" href="/quit") Выход
            div.col-sm
                table(class="table table-dark" id="data_table")
                    thead
                        tr
                            th(scope='col') №Модуля
                            th(scope='col') Состояние
                            th(scope='col') Адрес
                    tbody
                        each mod in modules_list
                            if modules[mod.id]
                                if modules[mod.id].errorType!==''
                                    tr.table-danger
                                        th(scope="row")=mod.id
                                        th(scope="row")="Авария:"+modules[mod.id].errorType
                                        th(scope="row")=mod.address
                                else
                                    tr
                                        th(scope="row")=mod.id
                                        th(scope="row") Норма
                                        th(scope="row")=mod.address
                            else
                                tr.table-danger
                                    th(scope="row")=mod.id
                                    th(scope="row") Авария: Нет связи
                                    th(scope="row")=mod.address
