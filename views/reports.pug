extends layout
block content
    script( type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js")
    script(type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js")
    script(type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js")
    link(rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css")
    script
        |$(document).ready(function(){$('#date').daterangepicker({
        |   ranges: {
        |       'Сегодня': [moment().startOf('day'), moment().endOf('day')],
        |       'Вчера': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
        |       'Последние 7 Дней': [moment().subtract(6, 'days'), moment()],
        |       'Последние 30 Дней': [moment().subtract(29, 'days'), moment()],
        |       'Последний месяц': [moment().startOf('month'), moment().endOf('month')],
        |       'Прошлый месяц': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
        |       },
        |"locale": {
        |   "format": "DD-MM-YYYY",
        |   "separator": " - ",
        |   "applyLabel": "Применить",
        |   "cancelLabel": "Отмена",
        |   "fromLabel": "С",
        |   "toLabel": "По",
        |   "customRangeLabel": "Выбор дат",
        |   "weekLabel": "Недели",
        |   "daysOfWeek": [
        |       "Вс",
        |       "Пн",
        |       "Вт",
        |       "Ср",
        |       "Чт",
        |       "Пт",
        |       "Сб"
        |   ],
        |   "monthNames": [
        |       "Январь",
        |       "Февраль",
        |       "Март",
        |       "Апрель",
        |       "Май",
        |       "Июнь",
        |       "Июль",
        |       "Август",
        |       "Сентябрь",
        |       "Октябрь",
        |       "Ноябрь",
        |       "Декабрь"
        |       ],
        |   "firstDay": 1
        |   },}) })
        |
        |
        |
    nav(class="navbar navbar-dark bg-dark")
        div(class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none")
            svg(class="bi me-2" width="40" height="32")
                svg(xmlns="http://www.w3.org/2000/svg" width="40" height="32" fill="currentColor" class="bi bi-diagram-3" viewBox="0 0 16 16")
                    path(fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z")
            svg(class="bi me-2" width="16" height="16")
            span(class="fs-4") Навигационная панель
        a(href="/" class="btn btn-secondary btn-lg")
            svg(class="bi me-2" width="16" height="16")
                svg(xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16")
                    path(fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694L1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z")
                    path(d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z")
            svg(class="bi me-2" width="16" height="16")
            | Состояние модулей
        a(href="" class="btn btn-primary btn-lg text-white")
            svg(class="bi me-2" width="16" height="16")
                svg(xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16")
                    path(d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z")
            svg(class="bi me-2" width="16" height="16")
            | Отчёты
        a(class="btn btn-light" href="/quit") Выход
    div.container.bg-dark
        div.row
            div.col
                form(action="/produce_report" method="POST")
                    label Параметры отчёта
                    div(class="form-group flex-column")
                        //Выбор отчёта
                        div(class="btn-group btn-group-toggle" data-toggle="buttons")
                            each rep in reports
                                if rep === reports[0]
                                    label(class="btn btn-secondary active")
                                        input(type="radio" name="repType" id=rep autocomplete="off" value=rep checked)
                                        |#{rep}
                                else
                                    label(class="btn btn-secondary")
                                        input(type="radio" name="repType" id=rep autocomplete="off" value=rep)
                                        |#{rep}
                        hr
                        div(class="form-group")
                            input(type="text" class="form-control" id="date" name="date" placeholder="Дата" required)
                            label(class="label" for="date") Период, за который передаются данные.
                        hr
                        div(class="form-group scrollList")
                            each mod in modules
                                div(class="form-check")
                                    input(class="form-check-input" name='modules' type="checkbox" value=mod.id id=mod.id)
                                    label(class="form-check-label" for=mod.id) Модуль №#{mod.id}. Адрес: #{mod.address}.
                        hr
                        button(type="submit" class="btn btn-primary my-1") Запросить отчёт
